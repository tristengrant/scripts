#!/bin/sh

# Click actions
case $BLOCK_BUTTON in
    1) # Left click: show top memory-hogging processes
        notify-send "ðŸ–¥ Top RAM users" "$(ps axch -o cmd,%mem --sort=-%mem | head -n 10)" ;;
    2) # Middle click: open htop
        setsid -f "$TERMINAL" -e htop ;;
    3) # Right click: info
        notify-send "ðŸ–¥ Memory module" "- Shows RAM % used.
- Left click: top memory-hogging processes.
- Middle click: htop." ;;
    6) # Shift + click: edit the script
        setsid -f "$TERMINAL" -e "$EDITOR" "$0" ;;
esac

# Calculate RAM usage percentage
# Uses free to get total and used memory
usage=$(free | awk '/Mem:/ {printf "%.0f", $3/$2 * 100}')

# Output for status bar
echo "RAM $usage%"
